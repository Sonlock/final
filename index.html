<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
    <script src="jspdf.min.js"></script>
    <script src="app.js"></script>
</head>

<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <H3><align="center">CROQUIS DE RUIDOS MOLESTOS</h3>
                <hr>
                <H5><align="center">Datos Infractor</h5>
                <form id="form">
                    <div class="row mb-6">
                        <div class="col-md-6">
                            <label for="cometida" class="form-label">COMETIDA EN :</label>
                            <input type="text" class="form-control" id="cometida">
                        </div>
                        <div class="col-md-6">
                            <label for="infractor" class="form-label">INFRACTOR :</label>
                            <input type="text" class="form-control" id="infractor">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="apellido" class="form-label">REP. LEGAL :</label>
                            <input type="text" class="form-control" id="apellido">
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label">INFRACCIÓN Nº :</label>
                            <input type="text" class="form-control" id="email">
                        </div>
                    </div>
                    <H5><align="center">Datos Reclamante</h5>
                    <div class="row mb-6">
                        <div class="col-md-6">
                            <label for="reclamante" class="form-label">RECLAMANTE :</label>
                            <input type="text" class="form-control" id="reclamante">
                        </div>
                        <div class="col-md-6">
                            <label for="direccion" class="form-label">DIRECCIÓN :</label>
                            <input type="text" class="form-control" id="direccion">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="rut" class="form-label">RUT :</label>
                            <input type="text" class="form-control" id="rut">
                        </div>
                        <div class="col-md-6">
                            <label for="telefono" class="form-label">TELEFONO :</label>
                            <input type="text" class="form-control" id="telefono">
                        </div>
                    </div>
                    <div class="row mb-6">
                    <div class="col-md-6">
                        <label for="inspector" class="form-label">INSPECTOR :</label>
                        <input type="text" class="form-control" id="inspector">
                    <br>
                </div>
            </div>

                    <div class="row mb-6">
                        <div class="col-md-6">
                        <center>
                        <input id="default-btn" class="form-label"  type="file">
                            <button type = "submit" id="custom-btn">Generar PDF</button>
                        </center>
                    </div>
                </div>
                    <div class="container">
                           <div class="image" hidden>
                              <img src="" alt="">
                           </div>
                                 <i class="fas fa-cloud-upload-alt" hidden></i>
                           <div id="cancel-btn" hidden>
                              <i class="fas fa-times" ></i>
                           </div>
                    <br>
                     <script>
                        const wrapper = document.querySelector(".wrapper");
                        const defaultBtn = document.querySelector("#default-btn");
                        const customBtn = document.querySelector("#custom-btn");
                        const cancelBtn = document.querySelector("#cancel-btn i");
                        const img = document.querySelector("img");
                        let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
                        function defaultBtnActive(){
                          defaultBtn.click();
                        }
                        defaultBtn.addEventListener("change", function(){
                          const file = this.files[0];
                          if(file){
                            const reader = new FileReader();
                            reader.onload = function(){
                              const result = reader.result;
                              img.src = result;
                              wrapper.classList.add("active");
                            }
                            cancelBtn.addEventListener("click", function(){
                              img.src = "";
                              wrapper.classList.remove("active");
                            })
                            reader.readAsDataURL(file);
                          }
                          if(this.value){
                            let valueStore = this.value.match(regExp);
                            fileName.textContent = valueStore;
                          }
                        });
                     </script>
                        </div>
                            <div class="signature" style="width: 1%; height: 1px;">
                                <canvas id="signature-canvas"
                                style="border: 1px dashed red; width: 1%; height: 2px;"></canvas>
                        </div>
                </form>
            </div>
        </div>
    </div>

</body>

</html>